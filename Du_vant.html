<!DOCTYPE html>
<html lang="en" dir="ltr">
  <head>
    <meta charset="utf-8">
    <link rel="stylesheet" type="text/css" href="style.css">
    <title></title>
    <style>
      h1{
        display: flex;
        justify-content: center;
        align-items: center;
        height: 50vh;
	      font-size: 60px;
        padding: 100px;
      }
    </style>
  </head>

  <body>

    <!-- på grunn av at chrome blokkerer -->
    <!-- <h1>trykk</h1>       slipper å bruke dette når denn er på server-->

    <video width="100%" autoplay>
      <source src="Bilder/oppskyting.mp4">
    </video>


    <script>

    document.addEventListener("click", chromeblokker);
    document.addEventListener("keypress", chromeblokker);

    function chromeblokker(){
      document.querySelector("h1").remove();
      document.querySelector("video").volume = 0.2;
      document.querySelector("video").play();
      document.removeEventListener("click", chromeblokker);
      document.removeEventListener("keypress", chromeblokker);
    }


    let id;

    let video = document.querySelector("video");
    video.onended = function () {

      video.remove();

      let h1 = document.createElement("h1");
      document.querySelector("body").appendChild(h1);

      document.querySelector("h1").textContent = "";
      let i = 0;
      clearInterval(id);
      id = setInterval(frame, 100);
      function frame() {
        if (i == 255) {
          clearInterval(id);
        } else {
          document.querySelector("h1").textContent +=
          'Oppdrag fullført.'.charAt(i);
          i++;
        }
      }
    }


    </script>
  </body>
</html>
